# Критерии команды следующей практикам

- [ ] [Спецификация АПИ появляется и сохраняется перед реализацией](#спецификация-апи-появляется-и-сохраняется-перед-реализацией)
- [ ] [Совпадение контракта и реализации контролируется автоматически](#совпадение-контракта-и-реализации-контролируется-автоматически)
- [ ] [Апи соответствует гайду с принятыми в сообществе правилами](#апи-соответствует-гайду-с-принятыми-в-сообществе-правилами)
- [ ] [Апи проверяется на соответствие правилам автоматически](#апи-проверяется-на-соответствие-правилам-автоматически)
- [ ] [Апи проходит кросскомандное ревью](#апи-проходит-кросскомандное-ревью)
- [ ] [Апи опубликовано в общебанковском месте (Backstage)](#апи-опубликовано-в-общебанковском-месте)
- [ ] [Апи опубликовано в человекочитаемом для клиентов (внешних по отношению к банку клиентов) виде (Redoc)](#апи-опубликовано-в-человекочитаемом-для-клиентов-внешних-по-отношению-к-банку-клиентов-виде)


## Спецификация АПИ появляется и сохраняется перед реализацией
> Разработка в команде начинается с разработки спецификации API, спецификация API находится в gitlab в формате OpenAPI, AsyncAPI (или другом в соответствии с используемым протоколом).
Изменения в API делаются с использованием Merge Request, финальное API приложено как артифакт к задаче.

Перед реализацией правильнее будет видеть финальный контракт для того чтобы его можно было отдать в тестирование/фронтенд/другой сервис и тд. Контракт должен быть описан на универсальном языке понятном всем участникам процесса разработки не зависимо от роли и языка программирования.


## Совпадение контракта и реализации контролируется автоматически
> Возможны 2 варианта контроля которые не исключают совместное использование:
> - Настроена кодогенерация по спецификации, сгенерированный код используется проектом-реализацией. Таким образом несответствия спецификации и реализаци будут выявлены на раннем этапе сборки проекта.
> - Настроено тестирование по спецификации. Соответствие обеспечивается на более позднем этапе, но могут проверятся более сложные условия в контракте.

То апи которое описано и согласовано должно совпадать с реализацией. 
Контроль в ручную как правило рано или поздно приводит к расхождениям, соответственно необходимо обеспечить это автоматизированными средствами, это может бы кодогенерация или автоматическое тестирование контракта в соответствии с описанием.

# Апи соответствует гайду с принятыми в сообществе правилами.
> Апи построено в соответствии с договоренностями принятыми в документе https://gitlabci.raiffeisen.ru/cib/rest-api-guide

Мы хотим чтобы наше апи строилось по понятным правилам для наших партнеров, смежных команд, а так же коллег внутри команды.

# Апи проверяется на соответствие правилам автоматически
> В пайплайне репозитория Gitlab где хранится API встроен автоматический запуск линтеров которые автоматически подсвечивают несоответствие API принятым правилам. Должны быть автоматизированы те проверки для которых это возможно сделать

Выполнение соответствия АПИ гайду принятому в сообществе проверяется с помощью линтеров и валидаторов.

# Апи проходит кросскомандное ревью
> В команде осрганизованн процесс в котором соседние команды могут провести ревью API и дать свои комментарии

Кросскомандное ревью может помогать перенимать хорошие практики между командами

# Апи опубликовано в общебанковском месте
> Апи опубликовано в backstage

Единое хранилище необходимо для организации поиска и структурированного, связанного хранения информации

# Апи опубликовано в человекочитаемом для клиентов (внешних по отношению к банку клиентов) виде
> Есть wiki которая размещена в публичном(вопрос) доступе для партнера

Не все клиенты имеют развитые ИТ службы, поэтому АПИ надо сопровождать развернутой информацией и представлять в удобном читаемом виде
