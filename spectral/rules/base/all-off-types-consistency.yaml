functions:
  - allOffTypesConsistency
functionsDir: "../../functions"
rules:
  all-off-types-consistency:
    description: Все элементы allOf должны иметь одинаковый тип
    documentationUrl: https://gitlabci.raiffeisen.ru/cib/api-guide/-/tree/master/spectral/rules?ref_type=heads#all-off-types-consistency
    given: $..[?(@ && @.allOf)]
    severity: error
    then:
      function: allOffTypesConsistency