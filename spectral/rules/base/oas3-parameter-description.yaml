aliases:
  PathItem:
    - '$.paths[*]'
  OperationObject:
    - '#PathItem[get,put,post,delete,options,head,patch,trace]'
rules:
  oas3-parameter-description:
    description: Параметры должны иметь заполненный description
    documentationUrl: https://gitlabci.raiffeisen.ru/cib/api-guide/-/tree/master/spectral/rules?ref_type=heads#oas3-parameter-description
    severity: warn
    resolved: false
    formats: [ oas3 ]
    given:
      - '#PathItem.parameters[?(@ && @.in)]'
      - '#OperationObject.parameters[?(@ && @.in)]'
      - '$.components.parameters[?(@ && @.in)]'
    then:
      field: 'description'
      function: truthy