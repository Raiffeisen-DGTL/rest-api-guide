aliases:
  ArrayProperties:
    targets:
      - formats:
          - oas3_0
        given:
          - '$..[?(@ && @.type=="array")]'
      - formats:
          - oas3_1
        given:
          - '$..[?(@ && @.type=="array")]'
          - '$..[?(@ && @.type && @.type.constructor.name === "Array" && @.type.includes("array"))]'
rules:
  array-items:
    description: Объекты типа Array должны содержать массив элементов
    formats: [oas3_0,oas3_1]
    severity: error
    resolved: false
    given: '#ArrayProperties'
    then:
      field: items
      function: truthy