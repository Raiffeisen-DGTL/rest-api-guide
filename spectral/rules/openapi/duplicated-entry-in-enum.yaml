x-rulesets: [ base, documentation, ai-ready ]
rules:
  duplicated-entry-in-enum:
    description: Значения в ENUM должны быть уникальны.
    documentationUrl: https://gitlabci.raiffeisen.ru/cib/api-guide/-/tree/master/spectral/rules/openapi?ref_type=heads#duplicated-entry-in-enum
    message: "Duplicate entry '{{value}}' in enum."
    severity: error
    given: "$..enum"
    then:
      function: schema
      functionOptions:
        schema:
          type: array
          uniqueItems: true

