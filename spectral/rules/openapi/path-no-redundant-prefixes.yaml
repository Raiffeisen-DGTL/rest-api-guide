x-rulesets: [ base ]
rules:
  path-no-redundant-prefixes:
    description: В paths запрещено использовать сегменты api, openapi, http, service
    documentationUrl: https://gitlabci.raiffeisen.ru/cib/api-guide/-/tree/master/spectral/rules/openapi?ref_type=heads#path-no-redundant-prefixes
    severity: error
    given:
      - '$.paths.*~'
    then:
      function: pattern
      functionOptions:
        notMatch: '(?:^|/)(?:api|openapi|http|service)(?:/|$)'