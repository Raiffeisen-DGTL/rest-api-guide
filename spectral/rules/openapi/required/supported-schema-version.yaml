rules:
  supported-schema-version:
    description: Спецификация должна быть версии 3+
    given: '$'
    message: "Схема документа не равна 3+"
    severity: error
    documentationUrl: https://gitlabci.raiffeisen.ru/cib/api-guide/-/tree/master/spectral/rules/openapi?ref_type=heads#supported-schema-version
    then:
      - field: "openapi"
        function: truthy
      - field: "openapi"
        function: pattern
        functionOptions:
          match: '^3\.\d{1}\.\d{1}$'