aliases:
  PathItem:
    - '$.paths[*]'
  OperationObject:
    - '#PathItem[get,put,post,delete,options,head,patch,trace]'
rules:
  operation-operationId-valid-in-url:
    description: OperationId не должен содержать запрещенных символов
    documentationUrl: https://gitlabci.raiffeisen.ru/cib/api-guide/-/tree/master/spectral/rules/openapi?ref_type=heads#operation-operationId-valid-in-url
    severity: error
    given: '#OperationObject'
    then:
      field: 'operationId'
      function: pattern
      functionOptions:
        match: "^[A-Za-z0-9-._~:/?#\\[\\]@!\\$&'()*+,;=]*$"